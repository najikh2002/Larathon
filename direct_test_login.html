<!DOCTYPE html>
<html>
<head>
    <title>Direct Test</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        form { max-width: 400px; }
        input { display: block; width: 100%; margin: 10px 0; padding: 8px; }
        button { padding: 10px 20px; background: #4CAF50; color: white; border: none; cursor: pointer; }
    </style>
</head>
<body>
    <h1>Direct Login Test</h1>
    
    <h2>Test 1: Current App (port 8000)</h2>
    <form method="POST" action="http://localhost:8000/login">
        <input type="email" name="email" value="admin@larathon.app" required>
        <input type="password" name="password" value="admin123" required>
        <button type="submit">Login to Current App</button>
    </form>
    
    <hr>
    
    <h2>Test 2: Raw Endpoint (port 8003)</h2>
    <p>Run: <code>source env/bin/activate && python test_raw_endpoint.py</code></p>
    <form method="POST" action="http://localhost:8003/test-raw-login">
        <input type="email" name="email" value="admin@larathon.app" required>
        <input type="password" name="password" value="admin123" required>
        <button type="submit">Test Raw Endpoint</button>
    </form>
    
    <hr>
    
    <h2>Test 3: With Form() dependency</h2>
    <form method="POST" action="http://localhost:8003/test-with-form">
        <input type="email" name="email" value="admin@larathon.app" required>
        <input type="password" name="password" value="admin123" required>
        <button type="submit">Test Form Dependency</button>
    </form>
    
    <hr>
    
    <h2>JavaScript Fetch Test</h2>
    <button onclick="testFetch()">Test Fetch API</button>
    <pre id="result"></pre>
    
    <script>
    async function testFetch() {
        const result = document.getElementById('result');
        result.textContent = 'Sending...';
        
        const formData = new FormData();
        formData.append('email', 'admin@larathon.app');
        formData.append('password', 'admin123');
        
        try {
            const response = await fetch('http://localhost:8000/login', {
                method: 'POST',
                body: formData
            });
            
            result.textContent = `Status: ${response.status}\n${await response.text()}`;
        } catch (error) {
            result.textContent = `Error: ${error}`;
        }
    }
    </script>
</body>
</html>
