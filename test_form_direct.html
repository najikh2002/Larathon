<!DOCTYPE html>
<html>
<head>
    <title>Form Test - Direct Submit</title>
    <style>
        body { font-family: Arial; padding: 20px; background: #f5f5f5; }
        .container { max-width: 500px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; }
        h1 { color: #333; }
        form { margin: 20px 0; }
        input { 
            display: block; 
            width: 100%; 
            margin: 10px 0; 
            padding: 12px; 
            border: 1px solid #ddd;
            border-radius: 5px;
            box-sizing: border-box;
        }
        button { 
            padding: 12px 30px; 
            background: #4CAF50; 
            color: white; 
            border: none; 
            cursor: pointer;
            border-radius: 5px;
            font-size: 16px;
            width: 100%;
        }
        button:hover { background: #45a049; }
        .info { background: #e3f2fd; padding: 15px; border-radius: 5px; margin: 20px 0; }
        code { background: #f5f5f5; padding: 2px 6px; border-radius: 3px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ Login Form Test</h1>
        
        <div class="info">
            <strong>Test Server:</strong> http://localhost:8000<br>
            <strong>Endpoint:</strong> POST /login<br>
            <strong>Content-Type:</strong> application/x-www-form-urlencoded
        </div>
        
        <form method="POST" action="http://localhost:8000/login" enctype="application/x-www-form-urlencoded">
            <label><strong>Email:</strong></label>
            <input 
                type="email" 
                name="email" 
                value="admin@larathon.app" 
                required
                autocomplete="email"
            >
            
            <label><strong>Password:</strong></label>
            <input 
                type="password" 
                name="password" 
                value="admin123" 
                required
                autocomplete="current-password"
            >
            
            <input type="hidden" name="redirect_to" value="/dashboard">
            
            <button type="submit">üöÄ Login</button>
        </form>
        
        <div class="info">
            <strong>Expected Debug Output:</strong><br>
            <code>DEBUG Router: Method=POST</code><br>
            <code>DEBUG Controller: Raw body bytes length: 52</code><br>
            <code>DEBUG: Form data received: {email: '...', password: '***'}</code>
        </div>
        
        <hr>
        
        <h2>üìù Check Browser DevTools</h2>
        <ul>
            <li>Open DevTools (F12)</li>
            <li>Go to Network tab</li>
            <li>Submit form</li>
            <li>Click on "login" request</li>
            <li>Check "Payload" tab - should show email & password</li>
            <li>Check "Headers" tab - Content-Type should be application/x-www-form-urlencoded</li>
        </ul>
    </div>
    
    <script>
    // Log form submit event
    document.querySelector('form').addEventListener('submit', function(e) {
        console.log('Form submitting...');
        console.log('Form data:', new FormData(this));
        for (let [key, value] of new FormData(this)) {
            console.log(`  ${key}: ${value}`);
        }
    });
    </script>
</body>
</html>
